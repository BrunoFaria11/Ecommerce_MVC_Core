@model IEnumerable<Ecommerce_MVC_Core.ViewModel.ProductStockListViewModel>
@{
    ViewData["Title"] = "Product Stock";
}


<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="card card-secondary w-100">
                <div class="card-header">
                    <h3 class="card-title">Produtos</h3>
                </div>
                <div class="card-body">
                    <a data-toggle="modal" asp-controller="productstock" asp-action="AddEditProductStock" data-target="#modal-AddEditProduct" style="float:right; margin-right: 2%;" class="btn bg-gradient-secondary AddEditProductbtn">
                        <i class="fas fa-plus"></i>
                    </a>
                    <div style="margin-top: 70px">
                        <table id="ProductStockTable" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Tamanho</th>
                                    <th>Cor</th>
                                    <th>Quantidade</th>
                                    <th data-orderable="false" width="1"></th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ProductName)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Size)
                                        </td>
                                        <td>
                                            <span class=""><i class="fas fa-square" style="color:@item.Color"></i></span>
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.InQuantity)
                                        </td>
                                        <td>
                                            <a data-toggle="modal" asp-route-id="@item.Id" asp-controller="productstock" asp-action="AddEditProductStock" data-target="#modal-AddEditProduct" class="AddEditProductbtn">
                                                <button type="button" class="btn btn-sm btn-info "><i class="fas fa-edit"></i>  </button>
                                            </a>
                                        </td>
                                        @*<td>
                                                <a asp-controller="product" asp-action="DeleteProduct" asp-route-id="@item.Id">
                                                    <button type="button" class="btn btn-danger">Delete</button>
                                                </a>
                                            </td>*@
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- /.card-body -->
        </div>
    </div>
</section>
@Html.Partial("_Modal", new BootstrapModel { ID = "modal-AddEditProduct", AreaLabeledId = "AddEditProduct", Size = ModalSize.Large })


<script>


    $('#ProductStockTable').DataTable({
        "paging": true,
        "searching": true,
        "ordering": true,
        "info": true,
        "autoWidth": true,
        "responsive": true,
    });


    $('.AddEditProductbtn').on('click', function (e) {
        debugger;
        e.preventDefault();
        $('#modal-AddEditProduct').addClass("show");
    })

</script>
